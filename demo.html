<!DOCTYPE html>
<!-- saved from url=(0061)http://deepliquid.com/projects/Jcrop/demos.php?demo=thumbnail -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>DeepLiquid » Jcrop Image Cropping Demos</title>

    <link href="demo/global.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="demo/jquery.Jcrop.min.css" type="text/css">
    <link href="demo/jcrop_demos.css" rel="stylesheet" type="text/css">

    <script src="demo/jquery.min.js"></script>
    <style type="text/css"></style>
    <script src="demo/jquery.Jcrop.min.js"></script>
    <script src="demo/jcrop_demos.js"></script>

</head>
<body>
<div id="pholder">
    <div id="pbox">

        <div id="pbody">

            <h1><b>Jcrop</b> » Thumbnail Demo</h1>
            <script language="Javascript">

                // Remember to invoke within jQuery(window).load(...)
                // If you don't, Jcrop may not initialize properly
                function init() {

                    alert('xxx');

                    $('#jcrop_target').Jcrop({
                        onChange: showPreview,
                        onSelect: showPreview,
                        onRelease: hidePreview,
                        aspectRatio: 1
                    });

                    var $preview = $('#preview');
                    // Our simple event handler, called from onChange and onSelect
                    // event handlers, as per the Jcrop invocation above
                    function showPreview(coords) {
                        if (parseInt(coords.w) > 0) {
                            var rx = 100 / coords.w;
                            var ry = 100 / coords.h;

                            $preview.css({
                                width: Math.round(rx * 504) + 'px',
                                height: Math.round(ry * 377) + 'px',
                                marginLeft: '-' + Math.round(rx * coords.x) + 'px',
                                marginTop: '-' + Math.round(ry * coords.y) + 'px'
                            }).show();
                        }
                    }

                    function hidePreview() {
                        $preview.stop().fadeOut('fast');
                    }

                }



            </script>
            <input type="file" id="image" name="image" data-url="#" multiple>
            <!-- This is the image we're attaching Jcrop to -->
            <table cellpadding="0" cellspacing="0" border="0">
                <tbody>
                <tr>
                    <td>
                        <img src="" id="jcrop_target" width="500"
                             style="display: none; visibility: hidden;">
                    </td>
                    <td>
                        <div style="width:100px;height:100px;overflow:hidden;margin-left:5px;">
                            <img src="" id="preview"
                                 style="display: inline;">
                        </div>

                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>


</div>

<script src="demo/ga.js" type="text/javascript"></script>
<script type="text/javascript">

    $('#image').on('change',function () {
        $('#preview').attr('src','./demo/image1.jpg');
        $('#jcrop_target').attr('src','./demo/image1.jpg');
        init();
    });
</script>

</body>
<div></div>
</html>